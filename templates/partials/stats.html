<!-- Floating Button -->
<button id="statsFloatingButton" class="fixed top-1/2 right-0 -translate-y-1/2 z-50 flex items-center justify-center bg-green-500 hover:bg-green-600 text-white p-3 rounded-l-full shadow-lg transition-all duration-300 hover:scale-105 hover:translate-x-1">
    <i class="fas fa-trophy text-xl"></i>
</button>
<!-- Modal Panel -->
<div id="statsModal" class="fixed inset-0 z-50 hidden">
    <!-- Backdrop -->
    <div id="statsModalBackdrop" class="absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"></div>
    
    <!-- Panel Content -->
    <div class="absolute right-0 top-0 h-full w-full md:w-96 bg-white shadow-xl transform transition-transform duration-300 translate-x-full">
        <!-- Header -->
        <div class="flex items-center justify-between p-4 border-b">
            <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                <i class="fas fa-award mr-2 text-green-500"></i>
                Tu Progreso
            </h3>
            <button id="closeStatsModal" class="text-gray-500 hover:text-gray-700">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>

        <!-- Content -->
        <div class="overflow-y-auto h-[calc(100%-4rem)]">
            <!-- Level Info -->
            <div class="p-4 bg-gray-50 m-4 rounded-lg">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-gray-600">Nivel Actual</span>
                    <span id="modalUserLevel" class="text-2xl font-bold text-green-600">1</span>
                </div>
                <div class="relative pt-1">
                    <div class="flex mb-2 items-center justify-between">
                        <div>
                            <span id="modalUserPoints" class="text-xs font-semibold text-green-600">0</span>
                            <span class="text-xs font-semibold text-gray-600">/100 puntos</span>
                        </div>
                    </div>
                    <div class="h-2 rounded bg-gray-200 overflow-hidden">
                        <div id="modalLevelProgressBar" class="h-full bg-green-500 transition-all duration-500" style="width: 0%"></div>
                    </div>
                </div>
            </div>

            <!-- Next Reward -->
            <div class="p-4">
                <div class="flex items-center justify-between mb-4">
                    <h4 class="font-medium text-gray-700">Pr√≥xima Recompensa</h4>
                    <span id="modalNextRewardLevel" class="text-sm text-blue-600">Nivel 5</span>
                </div>
                <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                    <i class="fas fa-award text-2xl text-yellow-500 mr-3"></i>
                    <div>
                        <span id="modalNextRewardName" class="block font-medium">Maestro del Reciclaje</span>
                        <span id="modalPointsToNextReward" class="text-sm text-gray-500">Faltan 100 puntos</span>
                    </div>
                    <i class="fas fa-chevron-right text-gray-400 ml-auto"></i>
                </div>
            </div>

            <!-- Badges -->
            <div class="p-4 border-t">
                <h4 class="font-medium text-gray-700 mb-4">Insignias Conseguidas</h4>
                <div id="modalUserBadges" class="grid grid-cols-2 gap-4">
                    <!-- Badges will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </div>
</div>